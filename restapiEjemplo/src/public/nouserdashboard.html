<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Unsigned User Dashboard</title>
  </head>
  <body>
    <h1>Unsigned User Dashboard</h1>
    
    <p>Find Seller</p>

    <form id="get-seller-form">
      <input type="hidden" name="action" value="get_seller">

      <input type="submit" value="Find Seller">
    </form>

    <p>Find seller in your city</p>
    
    <form id="get-seller-city-form">
      <input type="hidden" name="action" value="get_seller_city">

      <label for="city">City:</label>
      <input type="text" id="city" name="city"><br>

      <input type="submit" value="Find Seller">
    </form>

    <p>Find seller in your city and specific activity</p>

    <form id="get-seller-city-activity-form">
        <input type="hidden" name="action" value="get_seller_city_activity">
  
        <label for="city">City:</label>
        <input type="text" id="city" name="city"><br>

        <label for="activity">Activity:</label>
        <input type="text" id="activity" name="activity"><br>
  
        <input type="submit" value="Find Seller">
    </form>

    
    <p>Register now!</p>
    
    <button onclick="location.href='/register'">Go to Register</button>

  <script>
    const GetSellerForm = document.querySelector('#get-seller-form');
    const GetSellerCityForm = document.querySelector('#get-seller-city-form');
    const GetSellerCityActivityForm = document.querySelector('#get-seller-city-activity-form');


    GetSellerForm.addEventListener('submit', (event) => {
        event.preventDefault(); // prevent form from submitting

        const action = GetSellerForm.elements.action.value;
        
        fetch('/admin/dashboard', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ action })
        })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          // handle server response
        })
        .catch(error => console.error(error));
    });
    
    GetSellerCityForm.addEventListener('submit', (event) => {
        event.preventDefault(); // prevent form from submitting

        const city = GetSellerCityForm.elements.city.value;
        const action = GetSellerCityForm.elements.action.value;
        
        fetch('/admin/dashboard', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ city, action })
        })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          // handle server response
        })
        .catch(error => console.error(error));
    });
    
    GetSellerCityActivityForm.addEventListener('submit', (event) => {
        event.preventDefault(); // prevent form from submitting

        const activity = GetSellerCityActivityForm.elements.activity.value;
        const city = GetSellerCityActivityForm.elements.city.value;
        const action = GetSellerCityActivityForm.elements.action.value;
        
        fetch('/admin/dashboard', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ city, activity, action })
        })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          // handle server response
        })
        .catch(error => console.error(error));
    });

  </script>
</html>
